<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Admin â€” Dark Glass Control</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root{--bg:#071018;--panel:#0f1a22;--accent:#7c5cff;--accent2:#00e6d9;--muted:#b6c1d1;}
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,#02060a 0%, #08121a 100%);font-family:Inter,system-ui; color:#eaf0ff}
  header{background:linear-gradient(90deg,var(--accent),var(--accent2));padding:18px 24px;text-align:center;font-weight:700;font-size:18px}
  .layout{display:flex;gap:16px;height:calc(100vh - 64px);padding:18px}
  .left{width:420px;overflow:auto;padding:18px;background:rgba(255,255,255,0.02);border-radius:14px;backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,0.03)}
  .right{flex:1;border-radius:14px;overflow:hidden;border:1px solid rgba(255,255,255,0.04)}
  .panel{margin-bottom:16px;padding:12px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));border:1px solid rgba(255,255,255,0.02)}
  .panel h4{margin:0 0 8px;color:var(--accent)}
  label{display:block;font-size:13px;color:var(--muted);margin-top:8px}
  input,textarea,select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#eaf0ff;margin-top:6px}
  textarea{min-height:64px;resize:vertical}
  .row{display:flex;gap:8px}
  .btn{display:inline-block;padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#041018;font-weight:700;cursor:pointer;margin-top:10px}
  .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
  .section-toggle{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
  .small{font-size:13px;color:var(--muted)}
  .hide-switch{display:flex;gap:8px;align-items:center}
  .save-note{font-size:12px;color:var(--muted);margin-top:8px}
  iframe{width:100%;height:100%;border:none}
</style>
</head>
<body>

    <script>
// ØªØ­Ù‚Ù‚ ÙÙˆØ±ÙŠ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‚Ø¨Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
if(localStorage.getItem("logged") !== "yes") {
  window.location.href = "login.html";
}
</script>

<header>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… â€” Dark Glass UI (Live)</header>

<div class="layout">
  <aside class="left">

    <!-- Hero -->
    <div class="panel">
      <h4>Ø§Ù„Ù‡ÙŠØ±Ùˆ (Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„ÙˆØµÙ)</h4>
      <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø¯Ù…Ø©</label><input id="serviceTitle" placeholder="Ø®Ø¯Ù…Ø© Ø±Ø§Ø¦Ø¹Ø©">
      <label>ÙˆØµÙ Ø§Ù„Ø®Ø¯Ù…Ø©</label><textarea id="serviceDesc" placeholder="ÙˆØµÙ Ù…Ø®ØªØµØ± Ù‡Ù†Ø§..."></textarea>
      <label>Ù†Øµ Ø§Ù„Ø²Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label><input id="ctaBtn" placeholder="Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†">
      <div class="section-toggle"><span class="small">Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø³Ù…</span><input id="showHero" type="checkbox" checked></div>
      <div class="save-note">Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ØªØ¸Ù‡Ø± ÙÙˆØ±Ø§Ù‹ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©. ØªØ­ÙØ¸ ÙÙŠ Firebase ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.</div>
    </div>

    <!-- Features -->
    <div class="panel">
      <h4>Ø§Ù„Ù…ÙŠØ²Ø§Øª (3)</h4>
      <div class="row">
        <div style="flex:1">
          <label>Ø¹Ù†ÙˆØ§Ù† 1</label><input id="feature1Title">
          <label>ÙˆØµÙ 1</label><input id="feature1Desc">
          <label>Ø£ÙŠÙ‚ÙˆÙ†Ø© / ØµÙˆØ±Ø© 1 (Ø±Ø§Ø¨Ø·)</label><input id="feature1Img">
        </div>
      </div>
      <div class="row">
        <div style="flex:1">
          <label>Ø¹Ù†ÙˆØ§Ù† 2</label><input id="feature2Title">
          <label>ÙˆØµÙ 2</label><input id="feature2Desc">
          <label>Ø£ÙŠÙ‚ÙˆÙ†Ø© / ØµÙˆØ±Ø© 2 (Ø±Ø§Ø¨Ø·)</label><input id="feature2Img">
        </div>
      </div>
      <div class="row">
        <div style="flex:1">
          <label>Ø¹Ù†ÙˆØ§Ù† 3</label><input id="feature3Title">
          <label>ÙˆØµÙ 3</label><input id="feature3Desc">
          <label>Ø£ÙŠÙ‚ÙˆÙ†Ø© / ØµÙˆØ±Ø© 3 (Ø±Ø§Ø¨Ø·)</label><input id="feature3Img">
        </div>
      </div>
      <div class="section-toggle"><span class="small">Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø³Ù…</span><input id="showFeatures" type="checkbox" checked></div>
    </div>

    <!-- Testimonials -->
    <div class="panel">
      <h4>Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h4>
      <label>Ø±Ø£ÙŠ 1</label><input id="testimonial1">
      <label>Ø§Ø³Ù… 1</label><input id="testimonial1Name">
      <label>Ø±Ø£ÙŠ 2</label><input id="testimonial2">
      <label>Ø§Ø³Ù… 2</label><input id="testimonial2Name">
      <label>Ø±Ø£ÙŠ 3</label><input id="testimonial3">
      <label>Ø§Ø³Ù… 3</label><input id="testimonial3Name">
      <div class="section-toggle"><span class="small">Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø³Ù…</span><input id="showTestimonials" type="checkbox" checked></div>
    </div>

    <!-- Gallery -->
    <div class="panel">
      <h4>Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</h4>
      <label>ØµÙˆØ±Ø© 1 (URL)</label><input id="gallery1">
      <label>ØµÙˆØ±Ø© 2 (URL)</label><input id="gallery2">
      <label>ØµÙˆØ±Ø© 3 (URL)</label><input id="gallery3">
      <div class="section-toggle"><span class="small">Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø³Ù…</span><input id="showGallery" type="checkbox" checked></div>
    </div>

    <!-- FAQ -->
    <div class="panel">
      <h4>Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</h4>
      <label>Ø³Ø¤Ø§Ù„ 1</label><input id="faq1Q">
      <label>Ø¥Ø¬Ø§Ø¨Ø© 1</label><input id="faq1A">
      <label>Ø³Ø¤Ø§Ù„ 2</label><input id="faq2Q">
      <label>Ø¥Ø¬Ø§Ø¨Ø© 2</label><input id="faq2A">
      <label>Ø³Ø¤Ø§Ù„ 3</label><input id="faq3Q">
      <label>Ø¥Ø¬Ø§Ø¨Ø© 3</label><input id="faq3A">
      <div class="section-toggle"><span class="small">Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø³Ù…</span><input id="showFAQ" type="checkbox" checked></div>
    </div>

    <!-- Contact -->
    <div class="panel">
      <h4>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h4>
      <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø³Ù…</label><input id="contactTitle">
      <label>Ø§Ù„ÙˆØµÙ</label><textarea id="contactDesc"></textarea>
      <div class="section-toggle"><span class="small">Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø³Ù…</span><input id="showContact" type="checkbox" checked></div>
    </div>

    <!-- Client Links -->
    <div class="panel">
      <h4>Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆÙˆØ§ØªØ³Ø§Ø¨</h4>
      <label>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</label><input id="clientName">
      <label>Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ (Ø¨Ø¯ÙˆÙ† + Ø£Ùˆ Ù…Ø³Ø§ÙØ§ØªØŒ Ù…Ø«Ø§Ù„: 212600000000)</label><input id="clientPhone">
      <label>Ø±Ø³Ø§Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©</label><textarea id="clientMessage"></textarea>
      <label>Ø±Ø§Ø¨Ø· 1</label><input id="link1">
      <label>Ø±Ø§Ø¨Ø· 2</label><input id="link2">
      <label>Ø±Ø§Ø¨Ø· 3</label><input id="link3">
      <label>Ø±Ø§Ø¨Ø· 4</label><input id="link4">
      <label>Ø±Ø§Ø¨Ø· 5</label><input id="link5">
      <div style="display:flex;gap:8px;margin-top:10px">
        <button class="btn" id="saveAll">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ÙƒÙ„</button>
        <button class="btn ghost" id="resetDefaults">Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ</button>
      </div>
    </div>

  </aside>

  <div class="right">
    <!-- iframe preview -->
    <iframe id="preview" src="index.html" title="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹"></iframe>
  </div>
</div>

<!-- Ø¥Ø¶Ø§ÙØ© Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database.js"></script>

<script>
// Ø§Ù„ØªÙ‡ÙŠØ¦Ø© - Ù†ÙØ³ config Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ index.html
const firebaseConfig = {
  apiKey: "AIzaSyAy9owFh_HR8YlVaz-AgondpjYVvg5D5ik",
  authDomain: "project1-29ff0.firebaseapp.com",
  databaseURL: "https://project1-29ff0-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "project1-29ff0",
  storageBucket: "project1-29ff0.firebasestorage.app",
  messagingSenderId: "720681478940",
  appId: "1:720681478940:web:4ae1e8fa726cf829d6a8d9",
  measurementId: "G-RYG95STMGT"
};

firebase.initializeApp(firebaseConfig);
const database = firebase.database();

/* Helper: collect all inputs */
const fields = ['serviceTitle','serviceDesc','ctaBtn',
  'feature1Title','feature1Desc','feature1Img','feature2Title','feature2Desc','feature2Img','feature3Title','feature3Desc','feature3Img',
  'testimonial1','testimonial1Name','testimonial2','testimonial2Name','testimonial3','testimonial3Name',
  'gallery1','gallery2','gallery3',
  'faq1Q','faq1A','faq2Q','faq2A','faq3Q','faq3A',
  'contactTitle','contactDesc',
  'clientName','clientPhone','clientMessage','link1','link2','link3','link4','link5'
];

function $id(id){return document.getElementById(id);}

/* load from Firebase to inputs */
function loadToInputs(){
  database.ref('siteData').once('value').then((snapshot) => {
    const data = snapshot.val();
    if(data) {
      fields.forEach(k => {
        const el = $id(k);
        if(el && data[k] !== undefined) {
          el.value = data[k];
        }
      });
      
      // load section visibility
      ['Hero','Features','Testimonials','Gallery','FAQ','Contact'].forEach(s => {
        const chk = $id('show'+s);
        const key = 'show'+s;
        if(chk && data[key] !== undefined) {
          chk.checked = data[key] === '1';
        }
      });
    }
  }).catch((error) => {
    console.error('Error loading data:', error);
  });
}

/* save to Firebase */
function saveToFirebase(data) {
  database.ref('siteData').update(data)
    .then(() => {
      console.log('Data saved successfully');
    })
    .catch((error) => {
      console.error('Error saving data:', error);
      alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸: ' + error.message);
    });
}

/* live update handler */
document.querySelectorAll('input,textarea').forEach(inp => {
  inp.addEventListener('input', (e) => {
    const id = e.target.id;
    const value = e.target.value;
    const data = {};
    data[id] = value;
    saveToFirebase(data);
  });
});

/* Save all button */
document.getElementById('saveAll').addEventListener('click', () => {
  const data = {};
  fields.forEach(k => { 
    const el = $id(k); 
    if(el) data[k] = el.value; 
  });
  
  // visibility
  ['Hero','Features','Testimonials','Gallery','FAQ','Contact'].forEach(s => {
    const val = $id('show'+s) && $id('show'+s).checked ? '1' : '0';
    data['show'+s] = val;
  });
  
  saveToFirebase(data);
  alert('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ Firebase');
});

/* reset defaults */
document.getElementById('resetDefaults').addEventListener('click', () => {
  if(!confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©ØŸ')) return;
  database.ref('siteData').remove()
    .then(() => {
      loadToInputs();
      alert('âœ… ØªÙ… Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Øª');
    })
    .catch((error) => {
      console.error('Error resetting data:', error);
      alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©');
    });
});

/* section show/hide controls */
['Hero','Features','Testimonials','Gallery','FAQ','Contact'].forEach(s => {
  const chk = $id('show'+s);
  if(!chk) return;
  chk.addEventListener('change', () => {
    const data = {};
    data['show'+s] = chk.checked ? '1' : '0';
    saveToFirebase(data);
  });
});

/* on load */
window.addEventListener('load', () => {
  loadToInputs();
});

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
if(localStorage.getItem("logged") !== "yes"){
  location.href="login.html";
}

function logout(){
  localStorage.removeItem("logged");
  location.href="login.html";
}
</script>

<button onclick="logout()" style="position:fixed;top:20px;left:20px;padding:10px 18px;border:none;background:#a110db;color:#050101;border-radius:8px;cursor:pointer;">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>

</body>
</html>
